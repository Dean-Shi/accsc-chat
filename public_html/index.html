<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vince Lab - WebSocket Chatroom</title>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://chat.vince.im:8080/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>WebSocket Chatroom</h1>
    <textarea name="board" cols="30" rows="10" readonly></textarea>
    <br>
    <form action="javascript:void(0);">
        <input type="text" name="message">
        <button type="submit">Submit</button>
    </form>
    <script>
    var socket = io.connect('http://chat.vince.im:8080');
    socket.on('sendhistory', function (history) {
      if ("" == history)
        return;
      $("[name=board]").val(history + '\n');
    });
    socket.on('boardcast', function (message) {
      $("[name=board]").val($("[name=board]").val() + message + '\n');
    });
    $("button").click(function () {
      socket.emit('sendmessage', $("[name=message]").val());
      $("[name=message]").val("");
    });
    </script>
</body>
</html>
